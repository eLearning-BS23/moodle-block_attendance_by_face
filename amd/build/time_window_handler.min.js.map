{"version":3,"file":"time_window_handler.min.js","sources":["../src/time_window_handler.js"],"sourcesContent":["import $ from \"jquery\";\r\nimport Ajax from \"core/ajax\";\r\n\r\nexport const init = (userId) => {\r\n  $(\".stop-btn\").on(\"click\", function () {\r\n    let elementId  = $(this).attr(\"id\");\r\n    console.log(elementId);\r\n    let idArray = elementId.split(\"-\");\r\n    let courseId = idArray[0];\r\n    let sessionId = parseInt(idArray[1]);\r\n    console.log(courseId);\r\n    console.log(sessionId);\r\n    toggle_time_window(courseId, userId, sessionId, 0);\r\n  });\r\n\r\n  $(\".start-btn\").on(\"click\", function () {\r\n    let courseID = $(this).attr(\"id\");\r\n\r\n    toggle_time_window(courseID, userId, 0, 1);\r\n  });\r\n\r\n  let toggle_time_window = (course_id, userid, sessionId, active) => {\r\n    // ajax call\r\n    let wsfunction = \"local_participant_image_upload_active_window\";\r\n    let params = {\r\n      courseid: course_id,\r\n      changedby: userid,\r\n      sessionid: sessionId,\r\n      active: active,\r\n    };\r\n    let request = {\r\n      methodname: wsfunction,\r\n      args: params,\r\n    };\r\n    console.log(request);\r\n\r\n    Ajax.call([request])[0]\r\n      .done(function (value) {\r\n        window.console.log(value);\r\n        window.location.href = $(location).attr(\"href\");\r\n      })\r\n      .fail(Notification.exception);\r\n  };\r\n};\r\n"],"names":["userId","on","elementId","this","attr","console","log","idArray","split","courseId","sessionId","parseInt","toggle_time_window","courseID","course_id","userid","active","request","methodname","args","courseid","changedby","sessionid","call","done","value","window","location","href","fail","Notification","exception"],"mappings":"kXAGqBA,6BACjB,aAAaC,GAAG,SAAS,eACrBC,WAAa,mBAAEC,MAAMC,KAAK,MAC9BC,QAAQC,IAAIJ,eACRK,QAAUL,UAAUM,MAAM,KAC1BC,SAAWF,QAAQ,GACnBG,UAAYC,SAASJ,QAAQ,IACjCF,QAAQC,IAAIG,UACZJ,QAAQC,IAAII,WACZE,mBAAmBH,SAAUT,OAAQU,UAAW,0BAGhD,cAAcT,GAAG,SAAS,eACtBY,UAAW,mBAAEV,MAAMC,KAAK,MAE5BQ,mBAAmBC,SAAUb,OAAQ,EAAG,UAGtCY,mBAAqB,CAACE,UAAWC,OAAQL,UAAWM,cASlDC,QAAU,CACZC,WARe,+CASfC,KARW,CACXC,SAAUN,UACVO,UAAWN,OACXO,UAAWZ,UACXM,OAAQA,SAMVX,QAAQC,IAAIW,uBAEPM,KAAK,CAACN,UAAU,GAClBO,MAAK,SAAUC,OACdC,OAAOrB,QAAQC,IAAImB,OACnBC,OAAOC,SAASC,MAAO,mBAAED,UAAUvB,KAAK,WAEzCyB,KAAKC,aAAaC"}